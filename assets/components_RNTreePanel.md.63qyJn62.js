import{u as s}from"./chunks/useAjaxHook.CmkDii63.js";import{d as a,k as i,u as n,c as e,o as t,e as l,w as h,y as p,g as k,Y as d,Z as r,i as o,_ as E,m as c,b as u,h as g,t as y,l as b,f as m,n as F}from"./chunks/naive-ui.DyEX4l5m.js";import{_ as f}from"./chunks/index.vue_vue_type_script_setup_true_lang.CJETgBTM.js";import{_ as v}from"./chunks/index.vue_vue_type_script_setup_true_lang.CxvanQfd.js";import{Q as D}from"./chunks/index.BsjzT1UF.js";import"./chunks/index.DOObuXoO.js";import"./chunks/index.6vUEYOb4.js";const B=a({desc:"树形结构数据选择面板, 支持ajax请求, 支持依赖参数等拓展等",name:"RNTreePanel",__name:"index",props:{focusLoad:{type:Boolean,default:!1},showInput:{type:Boolean,default:!0},ajax:{},childrenField:{},dependencies:{},format:{},immediate:{type:Boolean,default:!0},labelField:{},options:{},params:{},resultField:{},valueField:{}},setup(a,{expose:u}){const g=a,y=i(""),b=n(),m=e((()=>({ajax:g.ajax,dependencies:g.dependencies,format:g.format,immediate:g.immediate,labelField:g.labelField,options:g.options,params:g.params,resultField:g.resultField,valueField:g.valueField}))),{error:F,loading:D,options:B,refresh:x}=s(m);function A(){g.focusLoad&&x()}return u({error:F,loading:D,options:B,refresh:x}),(s,a)=>(t(),l(k(v),null,{header:h((()=>[p(s.$slots,"header-before"),s.showInput?(t(),l(k(d),{key:0,value:y.value,"onUpdate:value":a[0]||(a[0]=s=>y.value=s),clearable:"",onFocus:A},null,8,["value"])):r("",!0),p(s.$slots,"header-after")])),default:h((()=>[o(k(E),c({data:k(B),pattern:y.value,"show-irrelevant-nodes":!1,block:"","block-line":"","block-node":"",class:"h-full","key-field":"value","label-field":"label","show-line":""},k(b)),{empty:h((()=>[o(k(f),{class:"mt-10"})])),_:1},16,["data","pattern"])])),_:3}))}}),x={class:"flex w-full flex-col gap-2"},A={class:"mb-1"},C={__name:"dependencies",setup(s){const a=i({id:null});function n(s,a){console.error(s,a),window.$message.info(a.label)}function e(){return fetch("https://apifoxmock.com/m1/5298581-0-default/get/streetData").then((s=>s.json()))}function l(){a.value={...a.value,id:Date.now()}}return(s,i)=>(t(),u("div",x,[g("div",A,[i[0]||(i[0]=g("span",null," 关联依赖- ",-1)),g("span",{class:"cursor-pointer text-[#145bff]",onClick:l}," 依赖项 "+y(a.value),1)]),o(k(B),{ajax:e,dependencies:a.value,"onUpdate:value":n},null,8,["dependencies"])]))}},j={__name:"checkbox",setup(s){function a(s,a){console.error(s,a),window.$message.info(a.label)}function i(){return fetch("https://apifoxmock.com/m1/5298581-0-default/get/streetData").then((s=>s.json()))}return(s,n)=>(t(),l(k(B),{ajax:i,cascade:"",checkable:"","onUpdate:value":a}))}},q={__name:"ajax",setup(s){function a(s,a){console.error(s,a),window.$message.info(a.label)}function i(){return fetch("https://apifoxmock.com/m1/5298581-0-default/get/streetData").then((s=>s.json()))}return(s,n)=>(t(),l(k(B),{ajax:i,class:"h-[220px]","onUpdate:value":a}))}},w={__name:"base",setup(s){const a=[{label:"罗湖区",value:"luohu",children:[{label:"东门",value:"dongmen"},{label:"黄贝街道",value:"huangbei"}]},{label:"福田区",value:"futian",children:[{label:"CBD商务区",value:"cbd"},{label:"华强北",value:"huaqiangbei"}]},{label:"南山区",value:"nanshan",children:[{label:"科技园",value:"kejiyuan"},{label:"蛇口",value:"shekou"}]},{label:"盐田区",value:"yantian",children:[{label:"大梅沙",value:"dameisha"}]},{label:"宝安区",value:"baoan",children:[{label:"西乡",value:"xixiang"},{label:"沙井",value:"shajing"}]},{label:"龙岗区",value:"longgang",children:[{label:"坂田",value:"bantian"},{label:"布吉",value:"buji"}]},{label:"龙华区",value:"longhua",children:[{label:"民治",value:"minzhi"},{label:"大浪",value:"dalang"}]}];function i(s,a){console.error(s,a),window.$message.info(a.label)}return(s,n)=>(t(),l(k(B),{options:a,"onUpdate:value":i}))}},P=JSON.parse('{"title":"RNTreePanel 树形面板组件","description":"","frontmatter":{},"headers":[],"relativePath":"components/RNTreePanel.md","filePath":"components/RNTreePanel.md"}'),_={name:"components/RNTreePanel.md"},T=Object.assign(_,{setup:s=>(s,a)=>{const i=F("ClientOnly");return t(),u("div",null,[a[0]||(a[0]=b('<h1 id="rntreepanel-树形面板组件" tabindex="-1">RNTreePanel 树形面板组件 <a class="header-anchor" href="#rntreepanel-树形面板组件" aria-label="Permalink to &quot;RNTreePanel 树形面板组件&quot;">​</a></h1><h2 id="组件介绍" tabindex="-1">组件介绍 <a class="header-anchor" href="#组件介绍" aria-label="Permalink to &quot;组件介绍&quot;">​</a></h2><p>RNTreePanel 是一个树形结构展示组件，基于 Naive UI 的 NTree 封装，支持异步加载、搜索过滤、拖拽等功能。</p><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2>',4)),o(i,null,{default:h((()=>[o(k(D),{title:"",description:"",select:"vue",order:"vue,react,html",github:"",gitlab:"",theme:"",lightTheme:"atom-one-light",darkTheme:"atom-one-dark",stackblitz:"%7B%22show%22%3Afalse%7D",codesandbox:"%7B%22show%22%3Afalse%7D",codeplayer:"%7B%22show%22%3Afalse%7D",files:"%7B%22vue%22%3A%7B%7D%2C%22react%22%3A%7B%7D%2C%22html%22%3A%7B%7D%7D",scope:"",visible:!0,vueCode:k("<script setup>\nimport { RNTreePanel } from '@nero/next';\n\nconst options = [\n  {\n    label: '罗湖区',\n    value: 'luohu',\n    children: [\n      {\n        label: '东门',\n        value: 'dongmen',\n      },\n      {\n        label: '黄贝街道',\n        value: 'huangbei',\n      },\n    ],\n  },\n  {\n    label: '福田区',\n    value: 'futian',\n    children: [\n      {\n        label: 'CBD商务区',\n        value: 'cbd',\n      },\n      {\n        label: '华强北',\n        value: 'huaqiangbei',\n      },\n    ],\n  },\n  {\n    label: '南山区',\n    value: 'nanshan',\n    children: [\n      {\n        label: '科技园',\n        value: 'kejiyuan',\n      },\n      {\n        label: '蛇口',\n        value: 'shekou',\n      },\n    ],\n  },\n  {\n    label: '盐田区',\n    value: 'yantian',\n    children: [\n      {\n        label: '大梅沙',\n        value: 'dameisha',\n      },\n    ],\n  },\n  {\n    label: '宝安区',\n    value: 'baoan',\n    children: [\n      {\n        label: '西乡',\n        value: 'xixiang',\n      },\n      {\n        label: '沙井',\n        value: 'shajing',\n      },\n    ],\n  },\n  {\n    label: '龙岗区',\n    value: 'longgang',\n    children: [\n      {\n        label: '坂田',\n        value: 'bantian',\n      },\n      {\n        label: '布吉',\n        value: 'buji',\n      },\n    ],\n  },\n  {\n    label: '龙华区',\n    value: 'longhua',\n    children: [\n      {\n        label: '民治',\n        value: 'minzhi',\n      },\n      {\n        label: '大浪',\n        value: 'dalang',\n      },\n    ],\n  },\n];\n\nfunction update(key, option) {\n  console.error(key, option);\n  window.$message.info(option.label);\n}\n<\/script>\n\n<template>\n  <RNTreePanel :options=\"options\" @update:value=\"update\" />\n</template>\n")},{vue:h((()=>[o(w)])),_:1},8,["vueCode"])])),_:1}),a[1]||(a[1]=g("h2",{id:"使用ajax",tabindex:"-1"},[m("使用ajax "),g("a",{class:"header-anchor",href:"#使用ajax","aria-label":'Permalink to "使用ajax"'},"​")],-1)),o(i,null,{default:h((()=>[o(k(D),{title:"",description:"",select:"vue",order:"vue,react,html",github:"",gitlab:"",theme:"",lightTheme:"atom-one-light",darkTheme:"atom-one-dark",stackblitz:"%7B%22show%22%3Afalse%7D",codesandbox:"%7B%22show%22%3Afalse%7D",codeplayer:"%7B%22show%22%3Afalse%7D",files:"%7B%22vue%22%3A%7B%7D%2C%22react%22%3A%7B%7D%2C%22html%22%3A%7B%7D%7D",scope:"",visible:!0,vueCode:k('<script setup>\nimport { RNTreePanel } from \'@nero/next\';\n\nfunction update(key, option) {\n  console.error(key, option);\n  window.$message.info(option.label);\n}\n\nfunction ajax() {\n  return fetch(\n    \'https://apifoxmock.com/m1/5298581-0-default/get/streetData\',\n  ).then((r) => r.json());\n}\n<\/script>\n\n<template>\n  <RNTreePanel :ajax="ajax" class="h-[220px]" @update:value="update" />\n</template>\n')},{vue:h((()=>[o(q)])),_:1},8,["vueCode"])])),_:1}),a[2]||(a[2]=g("h2",{id:"数据多选",tabindex:"-1"},[m("数据多选 "),g("a",{class:"header-anchor",href:"#数据多选","aria-label":'Permalink to "数据多选"'},"​")],-1)),o(i,null,{default:h((()=>[o(k(D),{title:"",description:"",select:"vue",order:"vue,react,html",github:"",gitlab:"",theme:"",lightTheme:"atom-one-light",darkTheme:"atom-one-dark",stackblitz:"%7B%22show%22%3Afalse%7D",codesandbox:"%7B%22show%22%3Afalse%7D",codeplayer:"%7B%22show%22%3Afalse%7D",files:"%7B%22vue%22%3A%7B%7D%2C%22react%22%3A%7B%7D%2C%22html%22%3A%7B%7D%7D",scope:"",visible:!0,vueCode:k("<script setup>\nimport { RNTreePanel } from '@nero/next';\n\nfunction update(key, option) {\n  console.error(key, option);\n  window.$message.info(option.label);\n}\n\nfunction ajax() {\n  return fetch(\n    'https://apifoxmock.com/m1/5298581-0-default/get/streetData',\n  ).then((r) => r.json());\n}\n<\/script>\n\n<template>\n  <RNTreePanel :ajax=\"ajax\" cascade checkable @update:value=\"update\" />\n</template>\n")},{vue:h((()=>[o(j)])),_:1},8,["vueCode"])])),_:1}),a[3]||(a[3]=g("h2",{id:"关联加载",tabindex:"-1"},[m("关联加载 "),g("a",{class:"header-anchor",href:"#关联加载","aria-label":'Permalink to "关联加载"'},"​")],-1)),o(i,null,{default:h((()=>[o(k(D),{title:"",description:"",select:"vue",order:"vue,react,html",github:"",gitlab:"",theme:"",lightTheme:"atom-one-light",darkTheme:"atom-one-dark",stackblitz:"%7B%22show%22%3Afalse%7D",codesandbox:"%7B%22show%22%3Afalse%7D",codeplayer:"%7B%22show%22%3Afalse%7D",files:"%7B%22vue%22%3A%7B%7D%2C%22react%22%3A%7B%7D%2C%22html%22%3A%7B%7D%7D",scope:"",visible:!0,vueCode:k('<script setup>\nimport { ref } from \'vue\';\n\nimport { RNTreePanel } from \'@nero/next\';\n\nconst dependencies = ref({\n  id: null,\n});\n\nfunction update(key, option) {\n  console.error(key, option);\n  window.$message.info(option.label);\n}\n\nfunction ajax() {\n  return fetch(\n    \'https://apifoxmock.com/m1/5298581-0-default/get/streetData\',\n  ).then((r) => r.json());\n}\n\nfunction changeDependencies() {\n  dependencies.value = {\n    ...dependencies.value,\n    id: Date.now(),\n  };\n}\n<\/script>\n\n<template>\n  <div class="flex w-full flex-col gap-2">\n    <div class="mb-1">\n      <span> 关联依赖- </span>\n      <span class="cursor-pointer text-[#145bff]" @click="changeDependencies">\n        依赖项 {{ dependencies }}\n      </span>\n    </div>\n    <RNTreePanel\n      :ajax="ajax"\n      :dependencies="dependencies"\n      @update:value="update"\n    />\n  </div>\n</template>\n')},{vue:h((()=>[o(C)])),_:1},8,["vueCode"])])),_:1}),a[4]||(a[4]=b('<h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h2><table><thead><tr><th>属性名</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td>Array</td><td>[]</td><td>树形数据源</td></tr><tr><td>ajax</td><td>Function</td><td>null</td><td>异步加载数据的函数</td></tr><tr><td>checkable</td><td>boolean</td><td>false</td><td>是否显示复选框</td></tr><tr><td>selectable</td><td>boolean</td><td>true</td><td>节点是否可选择</td></tr><tr><td>draggable</td><td>boolean</td><td>false</td><td>是否允许拖拽</td></tr><tr><td>expandOnClick</td><td>boolean</td><td>false</td><td>是否点击节点时展开</td></tr><tr><td>filterByLabel</td><td>boolean</td><td>true</td><td>是否根据标签过滤</td></tr><tr><td>showLine</td><td>boolean</td><td>false</td><td>是否显示连接线</td></tr><tr><td>immediate</td><td>boolean</td><td>true</td><td>是否在组件加载时立即请求数据</td></tr></tbody></table><h2 id="数据项格式" tabindex="-1">数据项格式 <a class="header-anchor" href="#数据项格式" aria-label="Permalink to &quot;数据项格式&quot;">​</a></h2><p>每个树节点对象应包含以下字段：</p><ul><li><code>key</code> (string | number): 节点的唯一标识</li><li><code>label</code> (string): 节点显示的文本</li><li><code>children</code> (Array, 可选): 子节点数组</li><li><code>disabled</code> (boolean, 可选): 是否禁用该节点</li></ul><h2 id="事件说明" tabindex="-1">事件说明 <a class="header-anchor" href="#事件说明" aria-label="Permalink to &quot;事件说明&quot;">​</a></h2><table><thead><tr><th>事件名</th><th>说明</th><th>回调参数</th></tr></thead><tbody><tr><td>select</td><td>节点被选中时触发</td><td>(keys: Array, nodes: Array)</td></tr><tr><td>check</td><td>节点被勾选时触发</td><td>(keys: Array, nodes: Array)</td></tr><tr><td>expand</td><td>节点展开/收起时触发</td><td>(keys: Array, nodes: Array)</td></tr><tr><td>dragend</td><td>拖拽结束时触发</td><td>(info: Object)</td></tr><tr><td>load</td><td>异步加载完成时触发</td><td>(node: Object)</td></tr></tbody></table><h2 id="插槽" tabindex="-1">插槽 <a class="header-anchor" href="#插槽" aria-label="Permalink to &quot;插槽&quot;">​</a></h2><table><thead><tr><th>插槽名</th><th>说明</th></tr></thead><tbody><tr><td>default</td><td>自定义节点内容</td></tr><tr><td>empty</td><td>无数据时的内容</td></tr><tr><td>prefix</td><td>节点前缀内容</td></tr><tr><td>suffix</td><td>节点后缀内容</td></tr></tbody></table><h2 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to &quot;使用示例&quot;">​</a></h2><h3 id="基础用法-1" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法-1" aria-label="Permalink to &quot;基础用法&quot;">​</a></h3><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rn-tree-panel</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;treeData&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> checkable</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> selectable</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleSelect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> treeData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;节点1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    children: [</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1-1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;子节点1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1-2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;子节点2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;节点2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleSelect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Selected:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, keys, nodes);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="异步加载" tabindex="-1">异步加载 <a class="header-anchor" href="#异步加载" aria-label="Permalink to &quot;异步加载&quot;">​</a></h3><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rn-tree-panel</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    :ajax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;loadTreeData&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    :expand-on-click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    :immediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  /&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loadTreeData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 模拟异步请求</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `/api/tree-nodes?parentId=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;root&#39;}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="自定义节点内容" tabindex="-1">自定义节点内容 <a class="header-anchor" href="#自定义节点内容" aria-label="Permalink to &quot;自定义节点内容&quot;">​</a></h3><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rn-tree-panel</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;treeData&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ node }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;custom-node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ node.label }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">n-button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;small&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleAction(node)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; 操作 &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">n-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rn-tree-panel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ol><li>数据源中的节点必须包含唯一的key和label属性</li><li>使用异步加载时，需要正确处理loading状态</li><li>拖拽功能需要注意数据结构的完整性</li><li>大数据量时建议使用虚拟滚动优化性能</li><li>ajax函数必须返回符合节点格式的数据数组</li></ol>',18))])}});export{P as __pageData,T as default};
